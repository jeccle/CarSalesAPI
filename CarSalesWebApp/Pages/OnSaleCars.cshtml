@page
@model PrivacyModel
@{
    ViewData["Title"] = "Bootleg Car Sale";
}
<div id="onsale-title-container">
<h1 id="onsale-title">Cars Currently on SALE!</h1>
</div>
 <div id="products-container"></div>
 <div class="popup-details" id="details-container">
    <div class="col" id="details-info-container">
        <div class="container" id="details-box">
        <table id="popup-table">
        <tr>
            <th><p>ID</p></th>
            <td><p id="id-details">ID</p></td>
        </tr>
        <tr>
            <th><p>Brand</p></th>
            <td><p id="brand-details">Brand</p></td>
        </tr>
        <tr>
            <th><p>Model</p></th>
            <td><p id="model-details">Model</p></td>
        </tr>
        <tr>
            <th><p>Year</p></th>
            <td><p id="year-details">Year</p></td>
        </tr>
        <tr>
            <th><p>Price</p</th>
            <td><p id="salePrice-details">SalePrice</p</td>
        </tr>
        <tr>
            <th><p>Is on Sale</p</th>
            <td><p id="sale-details">OnSale</p</td>
        </tr>
        <tr>
            <th><p>Engine Size</p</th>
            <td><p id="engineSize-details">EngineSize</p</td>
        </tr>
        </table>
        </div>
        <span id="close-button" onclick="closePopup()">&times;</span>
        <div id="popup-image">
            <img src="" alt="" id="car-image" />
        </div>
    </div>
</div>
 @section Scripts {
     <script>
          closePopup();
     let productsList = document.getElementById("products-container");
    url = "https://carsalesapimanagement.azure-api.net/products?size=100";
    fetch(url, {
        headers: {
            "CarSales-API-Version": "2.0"
        }
    })
        .then(response => response.json())
        .then(data => showProductsOnSale(data))
        .catch(ex => {
            alert("error ");
            console.error(ex);
        });
        </script>
 }